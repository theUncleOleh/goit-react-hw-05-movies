{"version":3,"file":"static/js/cast.260cb302.chunk.js","mappings":"qLACA,EAAyB,gC,SCCV,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAIjB,OACE,mBAAQC,KAAK,SAASC,QAJA,WAAO,IAAD,QAC5BH,EAAQ,iBAACF,QAAD,IAACA,GAAD,UAACA,EAAUM,aAAX,iBAAC,EAAiBC,KAAKP,gBAAvB,iBAAC,EAAgCM,aAAjC,aAAC,EAAuCC,YAAxC,QAAgD,MAGRC,UAAWC,EAA3D,kC,qDCRJ,MAAwB,kC,SCET,SAASC,EAAT,GAAuC,IAATC,EAAQ,EAARA,KAC3C,OAAO,eAAIH,UAAWC,EAAf,SAAyBE,M,kECFnB,SAASC,EAAT,GAA6B,IAAZC,EAAW,EAAXA,QAC9B,OACE,gBAAKC,KAAK,QAAV,UACE,wBAAKD,Q,2ICFLE,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,W,mBCDNA,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGG,SAASC,IAmBtB,MDvB0B,WAC1B,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAASJ,GAArC,eAAOS,EAAP,KAAeC,EAAf,KAcA,OAbAC,EAAAA,EAAAA,YAAU,WACRD,EAAUV,GACVY,EAAAA,GACkBV,GACfW,MAAK,SAAAC,GACJR,EAAWQ,EAAKC,MAChBL,EAAUV,MAEXgB,OAAM,SAAAT,GACLC,EAASD,GACTG,EAAUV,QAEb,CAACE,IACG,CAAEK,MAAAA,EAAOF,QAAAA,EAASI,OAAAA,GCKUQ,GAA3BV,EAAR,EAAQA,MAAOF,EAAf,EAAeA,QAASI,EAAxB,EAAwBA,OAExB,OAAIA,IAAWT,GACN,mCAELS,IAAWT,GACN,SAACkB,EAAA,EAAD,IAELT,IAAWT,GACN,SAACH,EAAA,EAAD,CAAOC,QAASS,IAErBE,IAAWT,GAEX,iCACE,SAACL,EAAA,EAAD,CAAoBC,KAAK,UACzB,SAACZ,EAAA,EAAD,IAECqB,IACC,wBACGA,EAAQc,KAAI,SAAAC,GAAM,OACjB,2BACE,uBAAIA,EAAOC,QACX,gBACEC,IAAG,0CAAqCF,EAAOG,aAA5C,KACHC,IAAKJ,EAAOK,UAJPL,EAAOM,iBAT5B,I,0MC1CFC,IAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,2CAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACkBF,IAAAA,IAAA,+BAAkCC,IADpD,cACCE,EADD,yBAEEA,EAAShB,MAFX,kEAKA,SAAeiB,EAAtB,+CAAO,OAAP,oBAAO,WAA8B7B,GAA9B,uFACkByB,IAAAA,IAAA,iBAAoBzB,EAApB,YAA+B0B,IADjD,cACCE,EADD,yBAEEA,EAAShB,MAFX,kEAKA,SAAekB,EAAtB,+CAAO,OAAP,oBAAO,WAA8B9B,GAA9B,uFACkByB,IAAAA,IAAA,iBAAoBzB,EAApB,oBAAuC0B,IADzD,cACCE,EADD,yBAEEA,EAAShB,MAFX,kEAKA,SAAemB,EAAtB,kC,aAAO,O,oBAAA,WAAiC/B,GAAjC,uFACkByB,IAAAA,IAAA,iBAAoBzB,EAApB,oBAAuC0B,IADzD,cACCE,EADD,yBAEEA,EAAShB,MAFX,kEAKA,SAAeoB,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,uFACkBR,IAAAA,IAAA,wBACJC,EADI,kBACaO,IAF/B,cACCL,EADD,yBAIEA,EAAShB,MAJX","sources":["webpack://react-homework-template/./src/components/BackToAllMovies/BackToAllMovies.module.css?6bcc","components/BackToAllMovies/BackToAllMovies.jsx","webpack://react-homework-template/./src/components/DetailsPageHeading/DetailsPageHeading.module.css?32dd","components/DetailsPageHeading/DetailsPageHeading.jsx","components/Error/Error.jsx","hooks/useFetchCast.jsx","pages/Cast.jsx","servis-api/getAxiosMovie.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"BackToAllMovies_button__piztt\"};","import { useLocation, useNavigate } from 'react-router-dom';\nimport s from './BackToAllMovies.module.css';\nexport default function BackToAllMovies() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const backToAllMovies = () => {\n    navigate(location?.state?.from.location?.state?.from ?? '/');\n  };\n  return (\n    <button type=\"button\" onClick={backToAllMovies} className={s.button}>\n      Back to all movies\n    </button>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"DetailsPageHeading_title__sgn83\"};","import s from './DetailsPageHeading.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function DetailsPageHeading({ text }) {\n  return <h1 className={s.title}>{text}</h1>;\n}\n\nDetailsPageHeading.propTypes = {\n  text: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\n\nexport default function Error({ message }) {\n  return (\n    <div role=\"alert\">\n      <h2>{message}</h2>\n    </div>\n  );\n}\n\nError.propTypes = {\n  message: PropTypes.string,\n};\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport * as getAxiosMovie from '../servis-api/getAxiosMovie';\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\nexport const useFetchCast = () => {\n  const { movieId } = useParams();\n  const [credits, setCredits] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    getAxiosMovie\n      .axiosMovieCast(movieId)\n      .then(data => {\n        setCredits(data.cast);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId]);\n  return { error, credits, status };\n};\n","import Loader from '../components/Loader/Loader';\nimport Error from 'components/Error/Error';\nimport DetailsPageHeading from '../components/DetailsPageHeading/DetailsPageHeading';\nimport { useFetchCast } from '../hooks/useFetchCast';\n\nimport BackToAllMovies from '../components/BackToAllMovies/BackToAllMovies';\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nexport default function Cast() {\n  // const { movieId } = useParams();\n  // const [credits, setCredits] = useState(null);\n  // const [error, setError] = useState(null);\n  // const [status, setStatus] = useState(Status.IDLE);\n\n  // useEffect(() => {\n  //   setStatus(Status.PENDING);\n  //   getAxiosMovie\n  //     .axiosMovieCast(movieId)\n  //     .then(data => {\n  //       setCredits(data.cast);\n  //       setStatus(Status.RESOLVED);\n  //     })\n  //     .catch(error => {\n  //       setError(error);\n  //       setStatus(Status.REJECTED);\n  //     });\n  // }, [movieId]);\n  const { error, credits, status } = useFetchCast();\n\n  if (status === Status.IDLE) {\n    return <div>Hello</div>;\n  }\n  if (status === Status.PENDING) {\n    return <Loader />;\n  }\n  if (status === Status.REJECTED) {\n    return <Error message={error} />;\n  }\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        <DetailsPageHeading text=\"Cast\" />\n        <BackToAllMovies />\n\n        {credits && (\n          <ul>\n            {credits.map(credit => (\n              <li key={credit.id}>\n                <p>{credit.name}</p>\n                <img\n                  src={`https://image.tmdb.org/t/p/w500/${credit.profile_path} `}\n                  alt={credit.title}\n                />\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'api_key=e63db2291c5b84e5166b5dd810de73f5';\n\nexport async function axiosWeekMovies() {\n  const response = await axios.get(`/trending/movie/week?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieById(movieId) {\n  const response = await axios.get(`/movie/${movieId}?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieCast(movieId) {\n  const response = await axios.get(`/movie/${movieId}/credits?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieReviews(movieId) {\n  const response = await axios.get(`/movie/${movieId}/reviews?${API_KEY}`);\n  return response.data;\n}\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\nexport async function axiosSearchMovies(searchQuery) {\n  const response = await axios.get(\n    `/search/movie?${API_KEY}&query=${searchQuery}`\n  );\n  return response.data;\n}\n\n"],"names":["BackToAllMovies","location","useLocation","navigate","useNavigate","type","onClick","state","from","className","s","DetailsPageHeading","text","Error","message","role","Status","Cast","movieId","useParams","useState","credits","setCredits","error","setError","status","setStatus","useEffect","getAxiosMovie","then","data","cast","catch","useFetchCast","Loader","map","credit","name","src","profile_path","alt","title","id","axios","API_KEY","axiosWeekMovies","response","axiosMovieById","axiosMovieCast","axiosMovieReviews","axiosSearchMovies","searchQuery"],"sourceRoot":""}