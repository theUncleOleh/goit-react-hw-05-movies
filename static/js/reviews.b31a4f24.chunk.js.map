{"version":3,"file":"static/js/reviews.b31a4f24.chunk.js","mappings":"qLACA,EAAyB,gC,SCCV,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAIjB,OACE,mBAAQC,KAAK,SAASC,QAJA,WAAO,IAAD,QAC5BH,EAAQ,iBAACF,QAAD,IAACA,GAAD,UAACA,EAAUM,aAAX,iBAAC,EAAiBC,KAAKP,gBAAvB,iBAAC,EAAgCM,aAAjC,aAAC,EAAuCC,YAAxC,QAAgD,MAGRC,UAAWC,EAA3D,kC,qDCRJ,MAAwB,kC,SCET,SAASC,EAAT,GAAuC,IAATC,EAAQ,EAARA,KAC3C,OAAO,eAAIH,UAAWC,EAAf,SAAyBE,M,kECFnB,SAASC,EAAT,GAA6B,IAAZC,EAAW,EAAXA,QAC9B,OACE,gBAAKC,KAAK,QAAV,UACE,wBAAKD,Q,uHCFLE,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,W,uCCDNA,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGG,SAASC,IAMtB,MDV6B,WAC7B,IACMC,GADWC,EAAAA,EAAAA,MAATC,KACaC,MAAM,cAAc,GACzC,GAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAASN,GAArC,eAAOW,EAAP,KAAeC,EAAf,KAcA,OAbAC,EAAAA,EAAAA,YAAU,WACRD,EAAUZ,GACVc,EAAAA,GACqBZ,GAClBa,MAAK,SAAAC,GACJR,EAAWQ,EAAIC,SACfL,EAAUZ,MAEXkB,OAAM,SAAAT,GACLC,EAASD,GACTG,EAAUZ,QAEb,CAACE,IACG,CAAEO,MAAAA,EAAOE,OAAAA,EAAQJ,QAAAA,GCTWY,GAA3BV,EAAR,EAAQA,MAAOE,EAAf,EAAeA,OAAQJ,EAAvB,EAAuBA,QACvB,OAAII,IAAWX,GACN,mCAELW,IAAWX,GACN,SAACH,EAAA,EAAD,CAAOC,QAASW,IAErBE,IAAWX,GACN,SAACoB,EAAA,EAAD,IAGLT,IAAWX,GAEX,iCACE,SAACL,EAAA,EAAD,CAAoBC,KAAK,aACzB,SAACZ,EAAA,EAAD,IAICuB,IACC,wBACGA,EAAQc,KAAI,SAAAC,GAAM,OACjB,2BACE,wBAAKA,EAAOC,UACZ,uBAAID,EAAOE,YAFJF,EAAOG,iBAX5B,I,0MC7BFC,IAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,2CAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACkBF,IAAAA,IAAA,+BAAkCC,IADpD,cACCE,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8B7B,GAA9B,uFACkBwB,IAAAA,IAAA,iBAAoBxB,EAApB,YAA+ByB,IADjD,cACCE,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeE,EAAtB,+CAAO,OAAP,oBAAO,WAA8B9B,GAA9B,uFACkBwB,IAAAA,IAAA,iBAAoBxB,EAApB,oBAAuCyB,IADzD,cACCE,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeG,EAAtB,kC,aAAO,O,oBAAA,WAAiC/B,GAAjC,uFACkBwB,IAAAA,IAAA,iBAAoBxB,EAApB,oBAAuCyB,IADzD,cACCE,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,uFACkBT,IAAAA,IAAA,wBACJC,EADI,kBACaQ,IAF/B,cACCN,EADD,yBAIEA,EAASC,MAJX","sources":["webpack://react-homework-template/./src/components/BackToAllMovies/BackToAllMovies.module.css?6bcc","components/BackToAllMovies/BackToAllMovies.jsx","webpack://react-homework-template/./src/components/DetailsPageHeading/DetailsPageHeading.module.css?32dd","components/DetailsPageHeading/DetailsPageHeading.jsx","components/Error/Error.jsx","hooks/useFetchReviews.jsx","pages/Reviews.jsx","servis-api/getAxiosMovie.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"BackToAllMovies_button__piztt\"};","import { useLocation, useNavigate } from 'react-router-dom';\nimport s from './BackToAllMovies.module.css';\nexport default function BackToAllMovies() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const backToAllMovies = () => {\n    navigate(location?.state?.from.location?.state?.from ?? '/');\n  };\n  return (\n    <button type=\"button\" onClick={backToAllMovies} className={s.button}>\n      Back to all movies\n    </button>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"DetailsPageHeading_title__sgn83\"};","import s from './DetailsPageHeading.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function DetailsPageHeading({ text }) {\n  return <h1 className={s.title}>{text}</h1>;\n}\n\nDetailsPageHeading.propTypes = {\n  text: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\n\nexport default function Error({ message }) {\n  return (\n    <div role=\"alert\">\n      <h2>{message}</h2>\n    </div>\n  );\n}\n\nError.propTypes = {\n  message: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport * as getAxiosMovie from '../servis-api/getAxiosMovie';\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\nexport const useFetchReviews = () => {\n  const { slug } = useParams();\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\n  const [reviews, setReviews] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    getAxiosMovie\n      .axiosMovieReviews(movieId)\n      .then(res => {\n        setReviews(res.results);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId]);\n  return { error, status, reviews };\n};\n","import Loader from '../components/Loader/Loader';\nimport { useFetchReviews } from '../hooks/useFetchReviews';\nimport Error from 'components/Error/Error';\nimport DetailsPageHeading from 'components/DetailsPageHeading/DetailsPageHeading';\n\nimport BackToAllMovies from 'components/BackToAllMovies/BackToAllMovies';\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nexport default function Reviews() {\n  // const location = useLocation();\n  // const navigate = useNavigate();\n  // const backToTrend = () => {\n  //   navigate(location?.state?.from.location?.state?.from ?? '/');\n  // };\n  const { error, status, reviews } = useFetchReviews();\n  if (status === Status.IDLE) {\n    return <div>Hello</div>;\n  }\n  if (status === Status.REJECTED) {\n    return <Error message={error} />;\n  }\n  if (status === Status.PENDING) {\n    return <Loader />;\n  }\n\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        <DetailsPageHeading text=\"Reviews\" />\n        <BackToAllMovies />\n        {/* <button type=\"button\" onClick={backToTrend}>\n          Back all movies\n        </button> */}\n        {reviews && (\n          <ul>\n            {reviews.map(review => (\n              <li key={review.id}>\n                <h3>{review.author}</h3>\n                <p>{review.content}</p>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'api_key=e63db2291c5b84e5166b5dd810de73f5';\n\nexport async function axiosWeekMovies() {\n  const response = await axios.get(`/trending/movie/week?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieById(movieId) {\n  const response = await axios.get(`/movie/${movieId}?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieCast(movieId) {\n  const response = await axios.get(`/movie/${movieId}/credits?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieReviews(movieId) {\n  const response = await axios.get(`/movie/${movieId}/reviews?${API_KEY}`);\n  return response.data;\n}\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\nexport async function axiosSearchMovies(searchQuery) {\n  const response = await axios.get(\n    `/search/movie?${API_KEY}&query=${searchQuery}`\n  );\n  return response.data;\n}\n\n"],"names":["BackToAllMovies","location","useLocation","navigate","useNavigate","type","onClick","state","from","className","s","DetailsPageHeading","text","Error","message","role","Status","Reviews","movieId","useParams","slug","match","useState","reviews","setReviews","error","setError","status","setStatus","useEffect","getAxiosMovie","then","res","results","catch","useFetchReviews","Loader","map","review","author","content","id","axios","API_KEY","axiosWeekMovies","response","data","axiosMovieById","axiosMovieCast","axiosMovieReviews","axiosSearchMovies","searchQuery"],"sourceRoot":""}