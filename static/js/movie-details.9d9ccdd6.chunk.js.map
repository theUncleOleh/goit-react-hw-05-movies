{"version":3,"file":"static/js/movie-details.9d9ccdd6.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/BackToTrendButton/BackToTrendButton.module.css?3849","components/BackToTrendButton/BackToTrendButton.jsx","components/Error/Error.jsx","webpack://react-homework-template/./src/components/PageHeading/PageHeading.module.css?b132","components/PageHeading/PageHeading.jsx","hooks/useFetchMoviesDetails.jsx","pages/MovieDetailsPage.jsx","servis-api/getAxiosMovie.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"BackToTrendButton_button__diRNa\"};","import { useLocation, useNavigate } from 'react-router-dom';\nimport s from './BackToTrendButton.module.css';\nexport default function BackToTrendButton() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const backToTrendButton = () => {\n    navigate(location?.state?.from ?? '/');\n  };\n  return (\n    <button type=\"button\" onClick={backToTrendButton} className={s.button}>\n      Back to trend\n    </button>\n  );\n}\n","import PropTypes from 'prop-types';\n\nexport default function Error({ message }) {\n  return (\n    <div role=\"alert\">\n      <h2>{message}</h2>\n    </div>\n  );\n}\n\nError.propTypes = {\n  message: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"PageHeading_title__1wPIF\"};","import s from './PageHeading.module.css';\nimport PropTypes from 'prop-types';\nexport default function PageHeading({ text }) {\n  return <h1 className={s.title}>{text}</h1>;\n}\n\nPageHeading.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport * as getAxiosMovie from '../servis-api/getAxiosMovie';\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nexport const useFetchMovieDetails = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    getAxiosMovie\n      .axiosMovieById(movieId)\n      .then(res => {\n        // console.log(res);\n        setMovieDetails(res);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId]);\n  return { movieDetails, status, error };\n};\n","import { Link, Outlet, useLocation } from 'react-router-dom';\nimport BackToTrendButton from '../components/BackToTrendButton/BackToTrendButton';\nimport Loader from 'components/Loader/Loader';\nimport Error from 'components/Error/Error';\nimport PageHeading from 'components/PageHeading/PageHeading';\nimport { useFetchMovieDetails } from '../hooks/useFetchMoviesDetails';\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\nexport default function MovieDetailsPage() {\n  const { movieDetails, status, error } = useFetchMovieDetails();\n  const location = useLocation();\n\n  // // const { movieId } = useParams();\n  // const [error, setError] = useState(null);\n  // const [status, setStatus] = useState(Status.IDLE);\n\n  // const [movieDetails, setMovieDetails] = useState(null);\n  // useEffect(() => {\n  //   setStatus(Status.PENDING);\n  //   getAxiosMovie\n  //     .axiosMovieById(movieId)\n  //     .then(res => {\n  //       // console.log(res);\n  //       setMovieDetails(res);\n  //       setStatus(Status.RESOLVED);\n  //     })\n  //     .catch(error => {\n  //       setError(error);\n  //       setStatus(Status.REJECTED);\n  //     });\n  // }, [movieId]);\n  if (status === Status.IDLE) {\n    <PageHeading text=\"Movie Details\" />;\n  }\n  if (status === Status.PENDING) {\n    <Loader />;\n  }\n  if (status === Status.REJECTED) {\n    <Error message={error} />;\n  }\n\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        <PageHeading text=\"Movie Details\" />\n        <BackToTrendButton />\n        {movieDetails && (\n          <>\n            <h2>{movieDetails.title}</h2>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movieDetails.poster_path} `}\n              alt={movieDetails.title}\n            />\n            <p>{movieDetails.tagline}</p>\n            <span>{movieDetails.overview}</span>\n            <ul>\n              {movieDetails.genres.map(genre => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n            <ul>\n              <li>\n                <Link\n                  to={'cast'}\n                  state={{\n                    from: {\n                      location,\n                    },\n                  }}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  to={'reviews'}\n                  state={{\n                    from: {\n                      location,\n                    },\n                  }}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n            <hr />\n            <Outlet />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'api_key=e63db2291c5b84e5166b5dd810de73f5';\n\nexport async function axiosWeekMovies() {\n  const response = await axios.get(`/trending/movie/week?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieById(movieId) {\n  const response = await axios.get(`/movie/${movieId}?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieCast(movieId) {\n  const response = await axios.get(`/movie/${movieId}/credits?${API_KEY}`);\n  return response.data;\n}\n\nexport async function axiosMovieReviews(movieId) {\n  const response = await axios.get(`/movie/${movieId}/reviews?${API_KEY}`);\n  return response.data;\n}\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\nexport async function axiosSearchMovies(searchQuery) {\n  const response = await axios.get(\n    `/search/movie?${API_KEY}&query=${searchQuery}`\n  );\n  return response.data;\n}\n\n"],"names":["BackToTrendButton","location","useLocation","navigate","useNavigate","type","onClick","state","from","className","s","Error","message","role","PageHeading","text","Status","MovieDetailsPage","useState","error","setError","status","setStatus","movieId","useParams","movieDetails","setMovieDetails","useEffect","getAxiosMovie","then","res","catch","useFetchMovieDetails","Loader","title","src","poster_path","alt","tagline","overview","genres","map","genre","name","id","to","axios","API_KEY","axiosWeekMovies","response","data","axiosMovieById","axiosMovieCast","axiosMovieReviews","axiosSearchMovies","searchQuery"],"sourceRoot":""}